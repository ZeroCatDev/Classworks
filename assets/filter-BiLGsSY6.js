import{f as Ge,j as Je,e as qe,V as Te,g as et}from"./VTextField-KLIWx9fu.js";import{g as me,p as Y,am as Ve,aC as tt,b9 as lt,bo as Be,ap as ie,a4 as ee,bM as nt,ch as Fe,aq as z,aM as at,ci as ot,a6 as Q,a5 as H,E as _,c as he,ai as Me,d as A,aY as Ke,as as _e,ax as He,bp as ut,cj as Ue,ck as ye,cl as rt,cm as st,bR as it,cn as ct,cb as ze,i as C,F as ne,h as $e,X as dt,b6 as Se,bd as ft,bc as Ne,be as pe,c6 as je,at as We,aU as Xe,bW as vt,u as mt,bB as ht,a7 as gt,c8 as yt,aE as fe,n as pt,e as ve,f as bt,c4 as wt,al as kt,aT as Vt,an as Pe,a_ as be,v as De,P as St,Q as Re,co as Pt,K as It,aW as Ct,L as xt,aX as At,t as Tt,bk as Ft,aZ as Ee,a$ as Le,cp as Mt,b0 as Dt,aa as se}from"./index-fC3F-cJK.js";import{V as Rt}from"./VCheckboxBtn-Cyr4glMC.js";import{V as Oe}from"./VChip-hc5GaWzn.js";const Et=Y({id:String,submenu:Boolean,...He(ut({captureFocus:!0,closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Ue}}),["absolute"])},"VMenu"),Lt=me()({name:"VMenu",props:Et(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:t}=a;const n=Ve(e,"modelValue"),{scopeId:u}=tt(),{isRtl:f}=lt(),m=Be(),r=ie(()=>e.id||`v-menu-${m}`),s=ee(),c=nt(Fe,null),i=z(new Set);it(Fe,{register(){i.value.add(m)},unregister(){i.value.delete(m)},closeParents(o){setTimeout(()=>{var d;!i.value.size&&!e.persistent&&(o==null||(d=s.value)!=null&&d.contentEl&&!ct(o,s.value.contentEl))&&(n.value=!1,c==null||c.closeParents())},40)}}),at(()=>c==null?void 0:c.unregister()),ot(()=>n.value=!1),Q(n,o=>{o?c==null||c.register():c==null||c.unregister()},{immediate:!0});function D(o){c==null||c.closeParents(o)}function V(o){var d,h,g,S,E;if(!e.disabled)if(o.key==="Tab"||o.key==="Enter"&&!e.closeOnContentClick){if(o.key==="Enter"&&(o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLInputElement&&o.target.closest("form")))return;o.key==="Enter"&&o.preventDefault(),!rt(st((d=s.value)==null?void 0:d.contentEl,!1),o.shiftKey?"prev":"next",Z=>Z.tabIndex>=0)&&!e.retainFocus&&(n.value=!1,(g=(h=s.value)==null?void 0:h.activatorEl)==null||g.focus())}else e.submenu&&o.key===(f.value?"ArrowRight":"ArrowLeft")&&(n.value=!1,(E=(S=s.value)==null?void 0:S.activatorEl)==null||E.focus())}function b(o){var h;if(e.disabled)return;const d=(h=s.value)==null?void 0:h.contentEl;d&&n.value?o.key==="ArrowDown"?(o.preventDefault(),o.stopImmediatePropagation(),ye(d,"next")):o.key==="ArrowUp"?(o.preventDefault(),o.stopImmediatePropagation(),ye(d,"prev")):e.submenu&&(o.key===(f.value?"ArrowRight":"ArrowLeft")?n.value=!1:o.key===(f.value?"ArrowLeft":"ArrowRight")&&(o.preventDefault(),ye(d,"first"))):(e.submenu?o.key===(f.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(o.key))&&(n.value=!0,o.preventDefault(),setTimeout(()=>setTimeout(()=>b(o))))}const P=H(()=>_({"aria-haspopup":"menu","aria-expanded":String(n.value),"aria-controls":r.value,"aria-owns":r.value,onKeydown:b},e.activatorProps));return he(()=>{const o=Me.filterProps(e);return A(Me,_({ref:s,id:r.value,class:["v-menu",e.class],style:e.style},o,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,absolute:!0,activatorProps:P.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":D,onKeydown:V},u),{activator:t.activator,default:function(){for(var d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];return A(Ke,{root:"VMenu"},{default:()=>{var S;return[(S=t.default)==null?void 0:S.call(t,...h)]}})}})}),_e({id:r,ΨopenChildren:i},s)}}),Ot=Y({renderless:Boolean,...$e()},"VVirtualScrollItem"),Bt=me()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ot(),emits:{"update:height":e=>!0},setup(e,a){let{attrs:t,emit:n,slots:u}=a;const{resizeRef:f,contentRect:m}=ze(void 0,"border");Q(()=>{var r;return(r=m.value)==null?void 0:r.height},r=>{r!=null&&n("update:height",r)}),he(()=>{var r,s;return e.renderless?C(ne,null,[(r=u.default)==null?void 0:r.call(u,{itemRef:f})]):C("div",_({ref:f,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(s=u.default)==null?void 0:s.call(u)])})}}),Kt=-1,_t=1,we=100,Ht=Y({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function Ut(e,a){const t=dt(),n=z(0);Se(()=>{n.value=parseFloat(e.itemHeight||0)});const u=z(0),f=z(Math.ceil((parseInt(e.height)||t.height.value)/(n.value||16))||1),m=z(0),r=z(0),s=ee(),c=ee();let i=0;const{resizeRef:D,contentRect:V}=ze();Se(()=>{D.value=s.value});const b=H(()=>{var v;return s.value===document.documentElement?t.height.value:((v=V.value)==null?void 0:v.height)||parseInt(e.height)||0}),P=H(()=>!!(s.value&&c.value&&b.value&&n.value));let o=Array.from({length:a.value.length}),d=Array.from({length:a.value.length});const h=z(0);let g=-1;function S(v){return o[v]||n.value}const E=ft(()=>{const v=performance.now();d[0]=0;const w=a.value.length;for(let T=1;T<=w;T++)d[T]=(d[T-1]||0)+S(T-1);h.value=Math.max(h.value,performance.now()-v)},h),R=Q(P,v=>{v&&(R(),i=c.value.offsetTop,E.immediate(),$(),~g&&We(()=>{Xe&&window.requestAnimationFrame(()=>{re(g),g=-1})}))});Ne(()=>{E.clear()});function Z(v,w){const T=o[v],L=n.value;n.value=L?Math.min(n.value,w):w,(T!==w||L!==n.value)&&(o[v]=w,E())}function B(v){v=pe(v,0,a.value.length);const w=Math.floor(v),T=v%1,L=w+1,J=d[w]||0,l=d[L]||J;return J+(l-J)*T}function I(v){return zt(d,v)}let te=0,G=0,ae=0;Q(b,(v,w)=>{$(),v<w&&requestAnimationFrame(()=>{G=0,$()})});let oe=-1;function N(){if(!s.value||!c.value)return;const v=s.value.scrollTop,w=performance.now();w-ae>500?(G=Math.sign(v-te),i=c.value.offsetTop):G=v-te,te=v,ae=w,window.clearTimeout(oe),oe=window.setTimeout(ce,500),$()}function ce(){!s.value||!c.value||(G=0,ae=0,window.clearTimeout(oe),$())}let ue=-1;function $(){cancelAnimationFrame(ue),ue=requestAnimationFrame(ge)}function ge(){if(!s.value||!b.value||!n.value)return;const v=te-i,w=Math.sign(G),T=Math.max(0,v-we),L=pe(I(T),0,a.value.length),J=v+b.value+we,l=pe(I(J)+1,L+1,a.value.length);if((w!==Kt||L<u.value)&&(w!==_t||l>f.value)){const y=B(u.value)-B(L),F=B(l)-B(f.value);Math.max(y,F)>we?(u.value=L,f.value=l):(L<=0&&(u.value=L),l>=a.value.length&&(f.value=l))}m.value=B(u.value),r.value=B(a.value.length)-B(f.value)}function re(v){const w=B(v);!s.value||v&&!w?g=v:s.value.scrollTop=w}const le=H(()=>a.value.slice(u.value,f.value).map((v,w)=>{const T=w+u.value;return{raw:v,index:T,key:je(v,e.itemKey,T)}}));return Q(a,()=>{o=Array.from({length:a.value.length}),d=Array.from({length:a.value.length}),E.immediate(),$()},{deep:1}),{calculateVisibleItems:$,containerRef:s,markerRef:c,computedItems:le,paddingTop:m,paddingBottom:r,scrollToIndex:re,handleScroll:N,handleScrollend:ce,handleItemResize:Z}}function zt(e,a){let t=e.length-1,n=0,u=0,f=null,m=-1;if(e[t]<a)return t;for(;n<=t;)if(u=n+t>>1,f=e[u],f>a)t=u-1;else if(f<a)m=u,n=u+1;else return f===a?u:n;return m}const $t=Y({items:{type:Array,default:()=>[]},renderless:Boolean,...Ht(),...$e(),...bt()},"VVirtualScroll"),Nt=me()({name:"VVirtualScroll",props:$t(),setup(e,a){let{slots:t}=a;const n=vt("VVirtualScroll"),{dimensionStyles:u}=mt(e),{calculateVisibleItems:f,containerRef:m,markerRef:r,handleScroll:s,handleScrollend:c,handleItemResize:i,scrollToIndex:D,paddingTop:V,paddingBottom:b,computedItems:P}=Ut(e,ie(()=>e.items));return ht(()=>e.renderless,()=>{function o(){var g,S;const h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";m.value===document.documentElement?(document[h]("scroll",s,{passive:!0}),document[h]("scrollend",c)):((g=m.value)==null||g[h]("scroll",s,{passive:!0}),(S=m.value)==null||S[h]("scrollend",c))}gt(()=>{m.value=yt(n.vnode.el,!0),o(!0)}),Ne(o)}),he(()=>{const o=P.value.map(d=>A(Bt,{key:d.key,renderless:e.renderless,"onUpdate:height":h=>i(d.index,h)},{default:h=>{var g;return(g=t.default)==null?void 0:g.call(t,{item:d.raw,index:d.index,...h})}}));return e.renderless?C(ne,null,[C("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:fe(V.value)}},null),o,C("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:fe(b.value)}},null)]):C("div",{ref:m,class:ve(["v-virtual-scroll",e.class]),onScrollPassive:s,onScrollend:c,style:pt([u.value,e.style])},[C("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:fe(V.value),paddingBottom:fe(b.value)}},[o])])}),{calculateVisibleItems:f,scrollToIndex:D}}});function jt(e,a){const t=z(!1);let n;function u(r){cancelAnimationFrame(n),t.value=!0,n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t.value=!1})})}async function f(){await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>requestAnimationFrame(r)),await new Promise(r=>{if(t.value){const s=Q(t,()=>{s(),r()})}else r()})}async function m(r){var i,D;if(r.key==="Tab"&&((i=a.value)==null||i.focus()),!["PageDown","PageUp","Home","End"].includes(r.key))return;const s=(D=e.value)==null?void 0:D.$el;if(!s)return;(r.key==="Home"||r.key==="End")&&s.scrollTo({top:r.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await f();const c=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(r.key==="PageDown"||r.key==="Home"){const V=s.getBoundingClientRect().top;for(const b of c)if(b.getBoundingClientRect().top>=V){b.focus();break}}else{const V=s.getBoundingClientRect().bottom;for(const b of[...c].reverse())if(b.getBoundingClientRect().bottom<=V){b.focus();break}}}return{onScrollPassive:u,onKeydown:m}}const Wt=Y({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Xt(e,a){const t=Be(),n=H(()=>`menu-${t}`),u=ie(()=>wt(a)),f=ie(()=>n.value);return{menuId:n,ariaExpanded:u,ariaControls:f}}const Qt=Y({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Dt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...Wt(),...Mt({itemChildren:!1})},"Select"),Yt=Y({...Qt(),...He(et({modelValue:null,role:"combobox"}),["validationValue","dirty"]),...Ft({transition:{component:Ue}})},"VSelect"),ll=me()({name:"VSelect",props:Yt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,a){let{slots:t}=a;const{t:n}=kt(),u=ee(),f=ee(),m=ee(),{items:r,transformIn:s,transformOut:c}=Vt(e),i=Ve(e,"modelValue",[],l=>s(l===null?[null]:Pe(l)),l=>{const y=c(l);return e.multiple?y:y[0]??null}),D=H(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),V=Ge(e),b=Je(e),P=H(()=>i.value.map(l=>l.value)),o=z(!1),d=ie(()=>e.closableChips&&!V.isReadonly.value&&!V.isDisabled.value),{InputIcon:h}=qe(e);let g="",S=0,E;const R=H(()=>e.hideSelected?r.value.filter(l=>!i.value.some(y=>(e.valueComparator||be)(y,l))):r.value),Z=H(()=>e.hideNoData&&!R.value.length||V.isReadonly.value||V.isDisabled.value),B=Ve(e,"menu"),I=H({get:()=>B.value,set:l=>{var y;B.value&&!l&&((y=f.value)!=null&&y.ΨopenChildren.size)||l&&Z.value||(B.value=l)}}),{menuId:te,ariaExpanded:G,ariaControls:ae}=Xt(e,I),oe=H(()=>{var l;return{...e.menuProps,activatorProps:{...((l=e.menuProps)==null?void 0:l.activatorProps)||{},"aria-haspopup":"listbox"}}}),N=ee(),ce=jt(N,u);function ue(l){e.openOnClear&&(I.value=!0)}function $(){Z.value||(I.value=!I.value)}function ge(l){Ee(l)&&re(l)}function re(l){var U,q,x;if(!l.key||V.isReadonly.value)return;if(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(I.value=!0),["Escape","Tab"].includes(l.key)&&(I.value=!1),e.clearable&&l.key==="Backspace"){l.preventDefault(),i.value=[],ue();return}l.key==="Home"?(U=N.value)==null||U.focus("first"):l.key==="End"&&((q=N.value)==null||q.focus("last"));const y=1e3;if(!Ee(l))return;const F=performance.now();F-E>y&&(g="",S=0),g+=l.key.toLowerCase(),E=F;const j=R.value;function W(){let k=O();return k||g.at(-1)===g.at(-2)&&(g=g.slice(0,-1),S++,k=O(),k)||(S=0,k=O(),k)?k:(g=l.key.toLowerCase(),O())}function O(){for(let k=S;k<j.length;k++){const M=j[k];if(M.title.toLowerCase().startsWith(g))return[M,k]}}const X=W();if(!X)return;const[p,K]=X;S=K,(x=N.value)==null||x.focus(K),e.multiple||(i.value=[p])}function le(l){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const F=i.value.findIndex(W=>(e.valueComparator||be)(W.value,l.value)),j=y??!~F;if(~F){const W=j?[...i.value,l]:[...i.value];W.splice(F,1),i.value=W}else j&&(i.value=[...i.value,l])}else{const F=y!==!1;i.value=F?[l]:[],We(()=>{I.value=!1})}}function v(l){var y;(y=N.value)!=null&&y.$el.contains(l.relatedTarget)||(I.value=!1)}function w(){var l;e.eager&&((l=m.value)==null||l.calculateVisibleItems())}function T(){var l;o.value&&((l=u.value)==null||l.focus())}function L(l){o.value=!0}function J(l){if(l==null)i.value=[];else if(Le(u.value,":autofill")||Le(u.value,":-webkit-autofill")){const y=r.value.find(F=>F.title===l);y&&le(y)}else u.value&&(u.value.value="")}return Q(I,()=>{if(!e.hideSelected&&I.value&&i.value.length){const l=R.value.findIndex(y=>i.value.some(F=>(e.valueComparator||be)(F.value,y.value)));Xe&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var y;l>=0&&((y=m.value)==null||y.scrollToIndex(l))})}}),Q(r,(l,y)=>{I.value||o.value&&e.hideNoData&&!y.length&&l.length&&(I.value=!0)}),he(()=>{const l=!!(e.chips||t.chip),y=!!(!e.hideNoData||R.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),F=i.value.length>0,j=Te.filterProps(e),W=F||!o.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return A(Te,_({ref:u},j,{modelValue:i.value.map(O=>O.props.title).join(", "),name:void 0,"onUpdate:modelValue":J,focused:o.value,"onUpdate:focused":O=>o.value=O,validationValue:i.externalValue,counterValue:D.value,dirty:F,class:["v-select",{"v-select--active-menu":I.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:W,"onClick:clear":ue,"onMousedown:control":$,onBlur:v,onKeydown:re,"aria-expanded":G.value,"aria-controls":ae.value}),{...t,default:O=>{let{id:X}=O;return C(ne,null,[C("select",{hidden:!0,multiple:e.multiple,name:b.fieldName.value},[r.value.map(p=>C("option",{key:p.value,value:p.value,selected:P.value.includes(p.value)},null))]),A(Lt,_({id:te.value,ref:f,modelValue:I.value,"onUpdate:modelValue":p=>I.value=p,activator:"parent",contentClass:"v-select__content",disabled:Z.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:w,onAfterLeave:T},oe.value),{default:()=>[y&&A(St,_({ref:N,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:p=>p.preventDefault(),onKeydown:ge,onFocusin:L,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-labelledby":`${X.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},ce,e.listProps),{default:()=>{var p,K,U;return[(p=t["prepend-item"])==null?void 0:p.call(t),!R.value.length&&!e.hideNoData&&(((K=t["no-data"])==null?void 0:K.call(t))??A(Re,{key:"no-data",title:n(e.noDataText)},null)),A(Nt,{ref:m,renderless:!0,items:R.value,itemKey:"value"},{default:q=>{var Ce,xe,Ae;let{item:x,index:k,itemRef:M}=q;const de=Pt(x.props),Ie=_(x.props,{ref:M,key:x.value,onClick:()=>le(x,null),"aria-posinset":k+1,"aria-setsize":R.value.length});return x.type==="divider"?((Ce=t.divider)==null?void 0:Ce.call(t,{props:x.raw,index:k}))??A(It,_(x.props,{key:`divider-${k}`}),null):x.type==="subheader"?((xe=t.subheader)==null?void 0:xe.call(t,{props:x.raw,index:k}))??A(Ct,_(x.props,{key:`subheader-${k}`}),null):((Ae=t.item)==null?void 0:Ae.call(t,{item:x,index:k,props:Ie}))??A(Re,_(Ie,{role:"option"}),{prepend:Qe=>{let{isSelected:Ye}=Qe;return C(ne,null,[e.multiple&&!e.hideSelected?A(Rt,{key:x.value,modelValue:Ye,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:Ze=>Ze.preventDefault()},null):void 0,de.prependAvatar&&A(xt,{image:de.prependAvatar},null),de.prependIcon&&A(De,{icon:de.prependIcon},null)])}})}}),(U=t["append-item"])==null?void 0:U.call(t)]}})]}),i.value.map((p,K)=>{function U(M){M.stopPropagation(),M.preventDefault(),le(p,!1)}const q=_(Oe.filterProps(p.props),{"onClick:close":U,onKeydown(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),U(M))},onMousedown(M){M.preventDefault(),M.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),x=l?!!t.chip:!!t.selection,k=x?At(l?t.chip({item:p,index:K,props:q}):t.selection({item:p,index:K})):void 0;if(!(x&&!k))return C("div",{key:p.value,class:"v-select__selection"},[l?t.chip?A(Ke,{key:"chip-defaults",defaults:{VChip:{closable:d.value,size:"small",text:p.title}}},{default:()=>[k]}):A(Oe,_({key:"chip",closable:d.value,size:"small",text:p.title,disabled:p.props.disabled},q),null):k??C("span",{class:"v-select__selection-text"},[p.title,e.multiple&&K<i.value.length-1&&C("span",{class:"v-select__selection-comma"},[Tt(",")])])])})])},"append-inner":function(){var K,U;for(var O=arguments.length,X=new Array(O),p=0;p<O;p++)X[p]=arguments[p];return C(ne,null,[(K=t["append-inner"])==null?void 0:K.call(t,...X),e.menuIcon?A(De,{class:"v-select__menu-icon",color:(U=u.value)==null?void 0:U.fieldIconColor,icon:e.menuIcon,"aria-hidden":!0},null):void 0,e.appendInnerIcon&&A(h,{key:"append-icon",name:"appendInner",color:X[0].iconColor.value},null)])}})}),_e({isFocused:o,menu:I,select:le},u)}}),Zt=(e,a,t)=>{if(e==null||a==null)return-1;if(!a.length)return 0;e=e.toString().toLocaleLowerCase(),a=a.toString().toLocaleLowerCase();const n=[];let u=e.indexOf(a);for(;~u;)n.push([u,u+a.length]),u=e.indexOf(a,u+a.length);return n.length?n:-1};function ke(e,a){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+a.length]]:Array.isArray(e[0])?e:[e]}const nl=Y({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Gt(e,a,t){var s;const n=[],u=(t==null?void 0:t.default)??Zt,f=t!=null&&t.filterKeys?Pe(t.filterKeys):!1,m=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return n;let r=null;e:for(let c=0;c<e.length;c++){const[i,D=i]=Pe(e[c]),V={},b={};let P=-1;if((a||m>0)&&!(t!=null&&t.noFilter)){let o=!1;if(typeof i=="object"){if(i.type==="divider"||i.type==="subheader"){(r==null?void 0:r.type)==="divider"&&i.type==="subheader"&&n.push(r),r={index:c,matches:{},type:i.type};continue}const g=f||Object.keys(D);o=g.length===m;for(const S of g){const E=je(D,S),R=(s=t==null?void 0:t.customKeyFilter)==null?void 0:s[S];if(P=R?R(E,a,i):u(E,a,i),P!==-1&&P!==!1)R?V[S]=ke(P,a):b[S]=ke(P,a);else if((t==null?void 0:t.filterMode)==="every")continue e}}else P=u(i,a,i),P!==-1&&P!==!1&&(b.title=ke(P,a));const d=Object.keys(b).length,h=Object.keys(V).length;if(!d&&!h||(t==null?void 0:t.filterMode)==="union"&&h!==m&&!d||(t==null?void 0:t.filterMode)==="intersection"&&(h!==m||!d&&m>0&&!o))continue}r&&(n.push(r),r=null),n.push({index:c,matches:{...b,...V}})}return n}function al(e,a,t,n){const u=z([]),f=z(new Map),m=H(()=>n!=null&&n.transform?se(a).map(s=>[s,n.transform(s)]):se(a));Se(()=>{const s=typeof t=="function"?t():se(t),c=typeof s!="string"&&typeof s!="number"?"":String(s),i=Gt(m.value,c,{customKeyFilter:{...e.customKeyFilter,...se(n==null?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),D=se(a),V=[],b=new Map;i.forEach(P=>{let{index:o,matches:d}=P;const h=D[o];V.push(h),b.set(h.value,d)}),u.value=V,f.value=b});function r(s){return f.value.get(s.value)}return{filteredItems:u,filteredMatches:f,getMatches:r}}function ol(e,a,t){return t==null||!t.length?a:t.map((n,u)=>{const f=u===0?0:t[u-1][1],m=[C("span",{class:ve(`${e}__unmask`)},[a.slice(f,n[0])]),C("span",{class:ve(`${e}__mask`)},[a.slice(n[0],n[1])])];return u===t.length-1&&m.push(C("span",{class:ve(`${e}__unmask`)},[a.slice(n[1])])),C(ne,null,[m])})}export{Lt as V,Xt as a,jt as b,Nt as c,nl as d,ll as e,ol as h,Qt as m,al as u};
