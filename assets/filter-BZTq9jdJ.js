import{u as He,V as Se,m as $e}from"./VTextField-BtDIbdD3.js";import{g as pe,p as Q,bR as Ae,a2 as Y,c as be,i as F,F as Z,E as j,h as Me,aq as ze,X as N,b8 as ge,W as J,a1 as B,b2 as Ne,bw as Re,bx as de,c5 as De,a3 as _e,a4 as Le,bV as Ue,u as je,ax as ue,bv as We,ah as Xe,bN as Ye,d as A,aH as re,n as Qe,e as se,f as Ge,U as Oe,aW as Je,c3 as Ie,Y as Ze,$ as Pe,a0 as ye,ae as ve,v as xe,a6 as qe,a7 as Ce,c7 as et,K as tt,a8 as lt,L as nt,a9 as at,aa as ot,t as rt,ab as ut,aR as st,ac as it,c8 as ct,ad as Fe,af as Te,c9 as ft,aV as dt,ak as te}from"./index-C0h5GNiz.js";import{V as vt}from"./VMenu-DnPauKEc.js";import{V as mt}from"./VCheckboxBtn-ByluWN-_.js";import{V as ht}from"./VChip-B2KNZuKZ.js";const gt=Q({renderless:Boolean,...Me()},"VVirtualScrollItem"),yt=pe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:gt(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:t,emit:r,slots:a}=n;const{resizeRef:d,contentRect:f}=Ae(void 0,"border");Y(()=>{var o;return(o=f.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),be(()=>{var o,s;return e.renderless?F(Z,null,[(o=a.default)==null?void 0:o.call(a,{itemRef:d})]):F("div",j({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(s=a.default)==null?void 0:s.call(a)])})}}),pt=-1,bt=1,me=100,Vt=Q({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function wt(e,n){const t=ze(),r=N(0);ge(()=>{r.value=parseFloat(e.itemHeight||0)});const a=N(0),d=N(Math.ceil((parseInt(e.height)||t.height.value)/(r.value||16))||1),f=N(0),o=N(0),s=J(),y=J();let u=0;const{resizeRef:M,contentRect:P}=Ae();ge(()=>{M.value=s.value});const p=B(()=>{var i;return s.value===document.documentElement?t.height.value:((i=P.value)==null?void 0:i.height)||parseInt(e.height)||0}),b=B(()=>!!(s.value&&y.value&&p.value&&r.value));let h=Array.from({length:n.value.length}),g=Array.from({length:n.value.length});const w=N(0);let I=-1;function R(i){return h[i]||r.value}const O=Ne(()=>{const i=performance.now();g[0]=0;const m=n.value.length;for(let C=1;C<=m;C++)g[C]=(g[C-1]||0)+R(C-1);w.value=Math.max(w.value,performance.now()-i)},w),k=Y(b,i=>{i&&(k(),u=y.value.offsetTop,O.immediate(),H(),~I&&_e(()=>{Le&&window.requestAnimationFrame(()=>{oe(I),I=-1})}))});Re(()=>{O.clear()});function ie(i,m){const C=h[i],l=r.value;r.value=l?Math.min(r.value,m):m,(C!==m||l!==r.value)&&(h[i]=m,O())}function E(i){i=de(i,0,n.value.length);const m=Math.floor(i),C=i%1,l=m+1,c=g[m]||0,V=g[l]||c;return c+(V-c)*C}function le(i){return kt(g,i)}let W=0,X=0,K=0;Y(p,(i,m)=>{m&&(H(),i<m&&requestAnimationFrame(()=>{X=0,H()}))});let q=-1;function ce(){if(!s.value||!y.value)return;const i=s.value.scrollTop,m=performance.now();m-K>500?(X=Math.sign(i-W),u=y.value.offsetTop):X=i-W,W=i,K=m,window.clearTimeout(q),q=window.setTimeout(ne,500),H()}function ne(){!s.value||!y.value||(X=0,K=0,window.clearTimeout(q),H())}let ae=-1;function H(){cancelAnimationFrame(ae),ae=requestAnimationFrame(G)}function G(){if(!s.value||!p.value||!r.value)return;const i=W-u,m=Math.sign(X),C=Math.max(0,i-me),l=de(le(C),0,n.value.length),c=i+p.value+me,V=de(le(c)+1,l+1,n.value.length);if((m!==pt||l<a.value)&&(m!==bt||V>d.value)){const U=E(a.value)-E(l),$=E(V)-E(d.value);Math.max(U,$)>me?(a.value=l,d.value=V):(l<=0&&(a.value=l),V>=n.value.length&&(d.value=V))}f.value=E(a.value),o.value=E(n.value.length)-E(d.value)}function oe(i){const m=E(i);!s.value||i&&!m?I=i:s.value.scrollTop=m}const fe=B(()=>n.value.slice(a.value,d.value).map((i,m)=>{const C=m+a.value;return{raw:i,index:C,key:De(i,e.itemKey,C)}}));return Y(n,()=>{h=Array.from({length:n.value.length}),g=Array.from({length:n.value.length}),O.immediate(),H()},{deep:1}),{calculateVisibleItems:H,containerRef:s,markerRef:y,computedItems:fe,paddingTop:f,paddingBottom:o,scrollToIndex:oe,handleScroll:ce,handleScrollend:ne,handleItemResize:ie}}function kt(e,n){let t=e.length-1,r=0,a=0,d=null,f=-1;if(e[t]<n)return t;for(;r<=t;)if(a=r+t>>1,d=e[a],d>n)t=a-1;else if(d<n)f=a,r=a+1;else return d===n?a:r;return f}const St=Q({items:{type:Array,default:()=>[]},renderless:Boolean,...Vt(),...Me(),...Ge()},"VVirtualScroll"),It=pe()({name:"VVirtualScroll",props:St(),setup(e,n){let{slots:t}=n;const r=Ue("VVirtualScroll"),{dimensionStyles:a}=je(e),{calculateVisibleItems:d,containerRef:f,markerRef:o,handleScroll:s,handleScrollend:y,handleItemResize:u,scrollToIndex:M,paddingTop:P,paddingBottom:p,computedItems:b}=wt(e,ue(()=>e.items));return We(()=>e.renderless,()=>{function h(){var I,R;const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";f.value===document.documentElement?(document[w]("scroll",s,{passive:!0}),document[w]("scrollend",y)):((I=f.value)==null||I[w]("scroll",s,{passive:!0}),(R=f.value)==null||R[w]("scrollend",y))}Xe(()=>{f.value=Ye(r.vnode.el,!0),h(!0)}),Re(h)}),be(()=>{const h=b.value.map(g=>A(yt,{key:g.key,renderless:e.renderless,"onUpdate:height":w=>u(g.index,w)},{default:w=>{var I;return(I=t.default)==null?void 0:I.call(t,{item:g.raw,index:g.index,...w})}}));return e.renderless?F(Z,null,[F("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:re(P.value)}},null),h,F("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:re(p.value)}},null)]):F("div",{ref:f,class:se(["v-virtual-scroll",e.class]),onScrollPassive:s,onScrollend:y,style:Qe([a.value,e.style])},[F("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:re(P.value),paddingBottom:re(p.value)}},[h])])}),{calculateVisibleItems:d,scrollToIndex:M}}});function Pt(e,n){const t=N(!1);let r;function a(o){cancelAnimationFrame(r),t.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(t.value){const s=Y(t,()=>{s(),o()})}else o()})}async function f(o){var u,M;if(o.key==="Tab"&&((u=n.value)==null||u.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const s=(M=e.value)==null?void 0:M.$el;if(!s)return;(o.key==="Home"||o.key==="End")&&s.scrollTo({top:o.key==="Home"?0:s.scrollHeight,behavior:"smooth"}),await d();const y=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const P=s.getBoundingClientRect().top;for(const p of y)if(p.getBoundingClientRect().top>=P){p.focus();break}}else{const P=s.getBoundingClientRect().bottom;for(const p of[...y].reverse())if(p.getBoundingClientRect().bottom<=P){p.focus();break}}}return{onScrollPassive:a,onKeydown:f}}const xt=Q({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Ct(e,n){const{t}=Oe(),r=Je(),a=B(()=>`menu-${r}`),d=ue(()=>Ie(n)),f=ue(()=>a.value),o=ue(()=>t(Ie(n)?e.closeText:e.openText));return{menuId:a,ariaExpanded:d,ariaControls:f,ariaLabel:o}}const Ft=Q({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:dt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...xt(),...ft({itemChildren:!1})},"Select"),Tt=Q({...Ft(),...it($e({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...st({transition:{component:ct}})},"VSelect"),Bt=pe()({name:"VSelect",props:Tt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:r}=Oe(),a=J(),d=J(),f=J(),{items:o,transformIn:s,transformOut:y}=Ze(e),u=Pe(e,"modelValue",[],l=>s(l===null?[null]:ye(l)),l=>{const c=y(l);return e.multiple?c:c[0]??null}),M=B(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:u.value.length),P=He(e),p=B(()=>u.value.map(l=>l.value)),b=N(!1);let h="",g=-1,w;const I=B(()=>e.hideSelected?o.value.filter(l=>!u.value.some(c=>(e.valueComparator||ve)(c,l))):o.value),R=B(()=>e.hideNoData&&!I.value.length||P.isReadonly.value||P.isDisabled.value),O=Pe(e,"menu"),k=B({get:()=>O.value,set:l=>{var c;O.value&&!l&&((c=d.value)!=null&&c.Î¨openChildren.size)||l&&R.value||(O.value=l)}}),{menuId:ie,ariaExpanded:E,ariaControls:le,ariaLabel:W}=Ct(e,k),X=B(()=>{var l;return{...e.menuProps,activatorProps:{...((l=e.menuProps)==null?void 0:l.activatorProps)||{},"aria-haspopup":"listbox"}}}),K=J(),q=Pt(K,a);function ce(l){e.openOnClear&&(k.value=!0)}function ne(){R.value||(k.value=!k.value)}function ae(l){Fe(l)&&H(l)}function H(l){var S,L,T;if(!l.key||P.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(k.value=!0),["Escape","Tab"].includes(l.key)&&(k.value=!1),l.key==="Home"?(S=K.value)==null||S.focus("first"):l.key==="End"&&((L=K.value)==null||L.focus("last"));const c=1e3;if(!Fe(l))return;const V=performance.now();V-w>c&&(h="",g=-1),h+=l.key.toLowerCase(),w=V;const U=I.value;function $(){let x=v();return x||h.at(-1)===h.at(-2)&&(h=h.slice(0,-1),x=v(),x)||(g=-1,x=v(),x)?x:(h=l.key.toLowerCase(),v())}function v(){for(let x=g+1;x<U.length;x++){const ee=U[x];if(ee.title.toLowerCase().startsWith(h))return[ee,x]}}const D=$();if(!D)return;const[_,z]=D;g=z,(T=K.value)==null||T.focus(z),e.multiple||(u.value=[_])}function G(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const V=u.value.findIndex($=>(e.valueComparator||ve)($.value,l.value)),U=c??!~V;if(~V){const $=U?[...u.value,l]:[...u.value];$.splice(V,1),u.value=$}else U&&(u.value=[...u.value,l])}else{const V=c!==!1;u.value=V?[l]:[],_e(()=>{k.value=!1})}}function oe(l){var c;(c=K.value)!=null&&c.$el.contains(l.relatedTarget)||(k.value=!1)}function fe(){var l;e.eager&&((l=f.value)==null||l.calculateVisibleItems())}function i(){var l;b.value&&((l=a.value)==null||l.focus())}function m(l){b.value=!0}function C(l){if(l==null)u.value=[];else if(Te(a.value,":autofill")||Te(a.value,":-webkit-autofill")){const c=o.value.find(V=>V.title===l);c&&G(c)}else a.value&&(a.value.value="")}return Y(k,()=>{if(!e.hideSelected&&k.value&&u.value.length){const l=I.value.findIndex(c=>u.value.some(V=>(e.valueComparator||ve)(V.value,c.value)));Le&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var c;l>=0&&((c=f.value)==null||c.scrollToIndex(l))})}}),Y(o,(l,c)=>{k.value||b.value&&e.hideNoData&&!c.length&&l.length&&(k.value=!0)}),be(()=>{const l=!!(e.chips||t.chip),c=!!(!e.hideNoData||I.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),V=u.value.length>0,U=Se.filterProps(e),$=V||!b.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return A(Se,j({ref:a},U,{modelValue:u.value.map(v=>v.props.value).join(", "),"onUpdate:modelValue":C,focused:b.value,"onUpdate:focused":v=>b.value=v,validationValue:u.externalValue,counterValue:M.value,dirty:V,class:["v-select",{"v-select--active-menu":k.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:$,"onClick:clear":ce,"onMousedown:control":ne,onBlur:oe,onKeydown:H,"aria-expanded":E.value,"aria-controls":le.value,"aria-label":W.value,title:W.value}),{...t,default:()=>F(Z,null,[A(vt,j({id:ie.value,ref:d,modelValue:k.value,"onUpdate:modelValue":v=>k.value=v,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:fe,onAfterLeave:i},X.value),{default:()=>[c&&A(qe,j({ref:K,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onKeydown:ae,onFocusin:m,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},q,e.listProps),{default:()=>{var v,D,_;return[(v=t["prepend-item"])==null?void 0:v.call(t),!I.value.length&&!e.hideNoData&&(((D=t["no-data"])==null?void 0:D.call(t))??A(Ce,{key:"no-data",title:r(e.noDataText)},null)),A(It,{ref:f,renderless:!0,items:I.value,itemKey:"value"},{default:z=>{var Ve,we,ke;let{item:S,index:L,itemRef:T}=z;const x=et(S.props),ee=j(S.props,{ref:T,key:S.value,onClick:()=>G(S,null)});return S.type==="divider"?((Ve=t.divider)==null?void 0:Ve.call(t,{props:S.raw,index:L}))??A(tt,j(S.props,{key:`divider-${L}`}),null):S.type==="subheader"?((we=t.subheader)==null?void 0:we.call(t,{props:S.raw,index:L}))??A(lt,j(S.props,{key:`subheader-${L}`}),null):((ke=t.item)==null?void 0:ke.call(t,{item:S,index:L,props:ee}))??A(Ce,j(ee,{role:"option"}),{prepend:Be=>{let{isSelected:Ee}=Be;return F(Z,null,[e.multiple&&!e.hideSelected?A(mt,{key:S.value,modelValue:Ee,ripple:!1,tabindex:"-1",onClick:Ke=>Ke.preventDefault()},null):void 0,x.prependAvatar&&A(nt,{image:x.prependAvatar},null),x.prependIcon&&A(xe,{icon:x.prependIcon},null)])}})}}),(_=t["append-item"])==null?void 0:_.call(t)]}})]}),u.value.map((v,D)=>{function _(T){T.stopPropagation(),T.preventDefault(),G(v,!1)}const z={"onClick:close":_,onKeydown(T){T.key!=="Enter"&&T.key!==" "||(T.preventDefault(),T.stopPropagation(),_(T))},onMousedown(T){T.preventDefault(),T.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},S=l?!!t.chip:!!t.selection,L=S?at(l?t.chip({item:v,index:D,props:z}):t.selection({item:v,index:D})):void 0;if(!(S&&!L))return F("div",{key:v.value,class:"v-select__selection"},[l?t.chip?A(ot,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[L]}):A(ht,j({key:"chip",closable:e.closableChips,size:"small",text:v.title,disabled:v.props.disabled},z),null):L??F("span",{class:"v-select__selection-text"},[v.title,e.multiple&&D<u.value.length-1&&F("span",{class:"v-select__selection-comma"},[rt(",")])])])})]),"append-inner":function(){var z,S;for(var v=arguments.length,D=new Array(v),_=0;_<v;_++)D[_]=arguments[_];return F(Z,null,[(z=t["append-inner"])==null?void 0:z.call(t,...D),e.menuIcon?A(xe,{class:"v-select__menu-icon",color:(S=a.value)==null?void 0:S.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),ut({isFocused:b,menu:k,select:G},a)}}),At=(e,n,t)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const r=[];let a=e.indexOf(n);for(;~a;)r.push([a,a+n.length]),a=e.indexOf(n,a+n.length);return r.length?r:-1};function he(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const Et=Q({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Mt(e,n,t){var s;const r=[],a=(t==null?void 0:t.default)??At,d=t!=null&&t.filterKeys?ye(t.filterKeys):!1,f=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;let o=null;e:for(let y=0;y<e.length;y++){const[u,M=u]=ye(e[y]),P={},p={};let b=-1;if((n||f>0)&&!(t!=null&&t.noFilter)){let h=!1;if(typeof u=="object"){if(u.type==="divider"||u.type==="subheader"){(o==null?void 0:o.type)==="divider"&&u.type==="subheader"&&r.push(o),o={index:y,matches:{},type:u.type};continue}const I=d||Object.keys(M);h=I.length===f;for(const R of I){const O=De(M,R),k=(s=t==null?void 0:t.customKeyFilter)==null?void 0:s[R];if(b=k?k(O,n,u):a(O,n,u),b!==-1&&b!==!1)k?P[R]=he(b,n):p[R]=he(b,n);else if((t==null?void 0:t.filterMode)==="every")continue e}}else b=a(u,n,u),b!==-1&&b!==!1&&(p.title=he(b,n));const g=Object.keys(p).length,w=Object.keys(P).length;if(!g&&!w||(t==null?void 0:t.filterMode)==="union"&&w!==f&&!g||(t==null?void 0:t.filterMode)==="intersection"&&(w!==f||!g&&f>0&&!h))continue}o&&(r.push(o),o=null),r.push({index:y,matches:{...p,...P}})}return r}function Kt(e,n,t,r){const a=N([]),d=N(new Map),f=B(()=>r!=null&&r.transform?te(n).map(s=>[s,r.transform(s)]):te(n));ge(()=>{const s=typeof t=="function"?t():te(t),y=typeof s!="string"&&typeof s!="number"?"":String(s),u=Mt(f.value,y,{customKeyFilter:{...e.customKeyFilter,...te(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),M=te(n),P=[],p=new Map;u.forEach(b=>{let{index:h,matches:g}=b;const w=M[h];P.push(w),p.set(w.value,g)}),a.value=P,d.value=p});function o(s){return d.value.get(s.value)}return{filteredItems:a,filteredMatches:d,getMatches:o}}function Ht(e,n,t){return t==null||!t.length?n:t.map((r,a)=>{const d=a===0?0:t[a-1][1],f=[F("span",{class:se(`${e}__unmask`)},[n.slice(d,r[0])]),F("span",{class:se(`${e}__mask`)},[n.slice(r[0],r[1])])];return a===t.length-1&&f.push(F("span",{class:se(`${e}__unmask`)},[n.slice(r[1])])),F(Z,null,[f])})}export{It as V,Ct as a,Pt as b,Et as c,Bt as d,Ht as h,Ft as m,Kt as u};
